<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/mercado_ver.css">
    <title>Mercado DaRoça</title>
    <script src="Colocar_Produtos.js"></script>
    <!-- Não Funcionando -->
    <script>
        function adicionar(produto){
            let quantidade = produto.querySelector(".Adicionar_Retirar").querySelector('p').innerHTML
            let aumentar_quantidade = Number(quantidade) + 1
            produto.querySelector(".Adicionar_Retirar").querySelector('p').innerHTML = aumentar_quantidade
        }

        function retirar(produto){
            let quantidade = produto.querySelector(".Adicionar_Retirar").querySelector('p').innerHTML
            if (Number(quantidade) != 0){
                let aumentar_quantidade = Number(quantidade) - 1
                produto.querySelector(".Adicionar_Retirar").querySelector('p').innerHTML = aumentar_quantidade
            }
        }

        function colocar_botao_carrinho(){
            try{
            document.querySelector('#adicionar_ao_carrinho').remove()
            let botao_carrinho = document.createElement('button')
            botao_carrinho.setAttribute('id', 'adicionar_ao_carrinho')
            botao_carrinho.setAttribute('onclick', 'adicionar_ao_carrinho()')
            botao_carrinho.innerHTML='Adicionar ao carrinho'
            document.querySelector('#botao_carrinho').appendChild(botao_carrinho)
            }

            catch{
            let botao_carrinho = document.createElement('button')
            botao_carrinho.setAttribute('id', 'adicionar_ao_carrinho')
            botao_carrinho.setAttribute('onclick', 'adicionar_ao_carrinho()')
            botao_carrinho.innerHTML='Adicionar ao carrinho'
            document.querySelector('#botao_carrinho').appendChild(botao_carrinho)
            }
        }

        function adicionar_ao_carrinho(){
            for (let quant of document.querySelectorAll(".Adicionar_Retirar")){
                quant.querySelector("p").innerHTML= "0"
            }
            alert("Conecte-se Primeiro")
        }

        function mudar_BG(nome){
            for (let i of document.querySelectorAll(".Opcoes")){
                if (i.querySelector("p").innerHTML == nome){
                    i.style.backgroundColor = "#329e17"
                }
                else{
                    i.style.backgroundColor = ""
                }
            }
        }
        
        function identificar_selecionado(tipo){
            if (tipo == "frutas"){
                colocar_produtos("Frutas")
                mudar_BG("Frutas")
            }
            else if (tipo == "vegetais"){
                mudar_BG("Vegetais")
            }
            else if (tipo == "frios"){
                mudar_BG("Frios")
            }
            else if (tipo == "bebidas"){
                mudar_BG("Bebidas")
            }
            else if (tipo == "alimentos"){
                mudar_BG("Alimentos")
            }
        }

        function Retornar() {
            location.href = "DaRoca.html"
        }
    </script>
</head>
<body>
    
    <header>
        <div>
            <button id="retornar_menuprincipal" onclick="Retornar()">voltar</button>
        </div>

        <div id="logo_menu">
            <img src="Imagens/Logo_DaRoca.jpg" id="logo">
            <h1>DaRoça</h1>
        </div>
    </header>

    <div id="Bem-Vindo">
        <h2>Bem-Vindo ao mercado DaRoça</h2>
    </div>

    <div id="Selecionar">
        <h3>Selecione o tipo de Mercadoria que deseja procurar</h3>
        <div id="Selecionar_Tipo">
            <div onclick="identificar_selecionado('frutas')" class="Opcoes">
                <p>Frutas</p>
            </div>
            
            <div onclick="identificar_selecionado('vegetais')" class="Opcoes">
                <p>Vegetais</p>
            </div>

            <div onclick="identificar_selecionado('frios')" class="Opcoes">
                <p>Frios</p>
            </div>

            <div onclick="identificar_selecionado('bebidas')" class="Opcoes">
                <p>Bebidas</p>
            </div>

            <div onclick="identificar_selecionado('alimentos')" class="Opcoes">
                <p>Alimentos</p>
            </div>
        </div>
    </div>

    <div id="Selecionar_Produtos">

    </div>
    <div id="botao_carrinho">

    </div>

</body>
</html>